---
title: "山田航空ネットワーク3rdを支える技術の振り返り（2021）"
date: 2021-12-27T18:30:00+09:00
draft: false
tags: ["tech", "blog", "hugo", "github"]
---

[山田航空ネットワーク3rdを支える技術 \| 山田航空ネットワーク3rd](/note/tech-note-2021/)

こちらを下地に、2021年末時点でのブログのしくみ関する振り返り記事を書きました。

## 良いと感じた点

* Markdown形式で書ける
* ゆるくCSSやHTMLの改修ができる

## 課題と感じる点

* 予約公開ができない
  + 都合上、公開時間以降にmasterを更新する必要がある
* 画像の添付が少し面倒
* TOPページの大きな改修が難しい
  + 固定記事リンク、カテゴリごとのリンクページなどが欲しくなった

## 2022年にやろうと考えていること

* 予約公開に関する対応
* TOPページ含めたデザインの改修
* Mediumやnoteなどにある、リンク先のブログカード表示の実装

## 各解説

### 良いと感じた点について

Markdown形式で記事が書きたい！という理由でHugoを選んだので、この点には大きく満足しています。
また、コンテンツ部分は素直なHTMLタグで構成されていることもあって、CSSの修正がやりやすいこともメリットに感じています。

特にMarkdownファイルで記事が管理できるので、textlintを導入できるのも個人的にうれしい利点でもありました。

### 課題と感じる点について

Hugoは静的サイトジェネレータであり、特定の時間から公開したい記事がある場合は、その時間になってからサイトを出力してデプロイする必要があります。
現在は出力とデプロイがmasterブランチの更新タイミングでしか行っていないため、予約投稿のようなことは実質行えません。
自分で未来の投稿時間を設定した記事のPull Requestを作成し、公開時間以降にmasterブランチへマージする必要があります。

これを解決するには、スケジューリングで一定時間ごとにmasterブランチの内容をデプロイさせるといったやり方が考えられますが、予約投稿自体はそんなに行わないので正直微妙です。
（そして数少ない必要なタイミングで面倒くささを感じる悪循環）

画像の添付はCMSを使っているわけではないので、自分で `static/image` 以下に画像ファイルを置いて該当の記事ファイルにリンクを貼る必要がありますが、この作業も地味に面倒くさい。
かといって、わざわざNetlify CMSとかそういうのを導入すべきかというと微妙なところ。

最後は、今後の運用を踏まえてカテゴリごとにリスト表示するリンクや固定記事のリンクを貼れるようにしたいのですが、現在のレイアウトだと大きな改修はちょっとしづらい。
ちなみに、Mediumみたいな記事ページにしたいこともあって現在は[Mediumish](https://github.com/lgaida/mediumish-gohugo-theme)というテーマを使っています。

### 2022年にやろうと考えていることについて

予約投稿はGitHub Actionsのトリガでうまいこと対応できるか調べて（Webhookあたりとか）、いけそうならがんばってみます。

ブログのデザインも、本当に欲しかったのは「Mediumみたいな大きいフォントの記事ページ」だけでした。
ですので、そのレイアウトは残したままMediumishを脱却したデザインに変えてみようと考えています。

あとはブログ自体の追加機能として、Mediumとかnoteにあるようなリンク先をCard形式で表示されているやつが良さそうだなと思ったので、あれを実装する予定です。

以上です。
